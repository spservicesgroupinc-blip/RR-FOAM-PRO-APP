[env:esp32-s3-touch-lcd-43b]
platform    = espressif32
board       = esp32-s3-devkitc-1
framework   = arduino

; ── Native USB (not USB-to-serial chip) ──────────────────────────────
build_flags =
  -D ARDUINO_USB_MODE=0          ; 0 = TinyUSB (WebUSB capable), 1 = CDC only
  -D ARDUINO_USB_CDC_ON_BOOT=0   ; Don't use CDC for Serial — we own USB
  -D CFG_TUD_WEBUSB=1
  -D CFG_TUD_WEBUSB_STRING_INDEX=4

; ── PSRAM (8MB on your board) ─────────────────────────────────────────
board_build.arduino.memory_type = qio_opi
board_upload.flash_size         = 16MB
board_upload.maximum_size       = 16777216

; ── USB upload port ───────────────────────────────────────────────────
upload_protocol = esptool
monitor_speed   = 115200
